CC=gcc
FLAGS=-Wall -Wextra -std=c99

#get_tokens.c
GET_TOKENS=get_tokens
SOURCE_GET_TOKENS=$(GET_TOKENS).c
OBG_GET_TOKENS=$(GET_TOKENS).o
TEST_GET_TOKENS=test_$(GET_TOKENS)

NAME_MAIN=main
SOURCE_MAIN=$(NAME_MAIN).c
OBG_MAIN=$(NAME_MAIN).o

PROG=graph

CLEAN=rm -f
CLEAN_LIST=$(OBG_GET_TOKENS) $(TEST_GET_TOKENS) $(OBG_MAIN) $(PROG)



all: $(PROG)#$(TEST_GET_TOKENS)

$(PROG): $(OBG_MAIN) $(OBG_GET_TOKENS)
	$(CC) $(FLAGS) $^ -o $@

$(OBG_MAIN): $(SOURCE_MAIN)
	$(CC) $(FLAGS) -c $^

$(OBG_GET_TOKENS): $(SOURCE_GET_TOKENS)
	$(CC) $(FLAGS) -c $^

clean:
	$(CLEAN) $(CLEAN_LIST)




#tests
$(TEST_GET_TOKENS): $(SOURCE_GET_TOKENS)
	$(CC) $(FLAGS) -DTEST $^ -o $@
